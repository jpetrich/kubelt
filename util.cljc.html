<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" content="text/html" http-equiv="Content-Type" />
		<meta content="" name="description" />
		<title>Kubelt SDK Reference</title>
 		<link rel="stylesheet" type="text/css" href="css/shCore.css" />
		<style type="text/css">.syntaxhighlighter{overflow:hidden !important;}</style>
		<link rel="stylesheet" type="text/css" href="css/shThemeMarginalia.css" />
		<link rel="stylesheet" type="text/css" href="css/marginalia.css" />
		<script type="text/javascript" src="js/jquery-1.7.1.min.js"></script>
		<script type="text/javascript" src="js/xregexp-min.js"></script>
		<script type="text/javascript" src="js/shCore.js"></script>
		<script type="text/javascript" src="js/shBrushClojure.js"></script>
	</head>
	<body>
		<table>
			<tr>
				<td class="docs">
					<div class="docs-header">
						<a class="anchor" href="#repl" name="repl">
							<h1 class="project-name">util.cljc</h1>
							<a class="toc-link" href="index.html">toc</a>
						</a>
					</div>
				</td>
				<td class="codes" />
			</tr>
			<tr>
				<td class="docs">
					<p>Miscellaneous utilities.</p>
				</td>
				<td class="codes">
					<pre class="brush: clojure">(ns com.kubelt.lib.util
  #?(:node
     (:require
      [&quot;os&quot; :as os]
      [&quot;process&quot; :as process]))
  (:require
   [goog.object]
   [goog.userAgent])
  (:require
   [clojure.string :as str]))</pre>
				</td>
			</tr>
			<tr>
				<td class="docs">
					<h2>Public</h2>
				</td>
				<td class="codes">
					<pre class="brush: clojure"></pre>
				</td>
			</tr>
			<tr>
				<td class="docs">
					<p>Turn a JavaScript object into a Clojure map.</p>
				</td>
				<td class="codes">
					<pre class="brush: clojure">(defn obj-&gt;clj
  [obj]
  (-&gt; (fn [result key]
        (let [v (goog.object/get obj key)]
          (if (= &quot;function&quot; (goog/typeOf v))
            result
            (assoc result key v))))
      (reduce {} (goog.object/getKeys obj))))</pre>
				</td>
			</tr>
			<tr>
				<td class="docs">
					<p>Return a map of the process environment. In the returned map environment variable names and values are the map keys and values.</p>
				</td>
				<td class="codes">
					<pre class="brush: clojure">#?(:node
   (defn environment
     []
     (obj-&gt;clj (.-env process))))</pre>
				</td>
			</tr>
			<tr>
				<td class="docs">
					<p>Return a map describing the node environment, including details such as the user's home directory, temp directory, username, and a map of environment variables.</p>
				</td>
				<td class="codes">
					<pre class="brush: clojure">#?(:node
   (defn node-env
     []
     (let [home-dir (.homedir os)
           tmp-dir (.tmpdir os)
           username (.-username (.userInfo os))
           env-map (environment)]
       {:home-dir home-dir
        :tmp-dir tmp-dir
        :environment env-map
        :username username})))</pre>
				</td>
			</tr>
			<tr>
				<td class="spacer docs">&nbsp;</td>
				<td class="codes" />
			</tr>
		</table>
		<div class="footer">Generated by <a href="https://github.com/captain-porcelain/sidenotes">Sidenotes</a>.&nbsp;&nbsp;Syntax highlighting provided by Alex Gorbatchev's <a href="http://alexgorbatchev.com/SyntaxHighlighter/">SyntaxHighlighter</a>
		</div>
		<script type="text/javascript" src="js/app.js"></script>
	</body>
</html>
